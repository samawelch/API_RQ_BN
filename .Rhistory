x = lat,
y = long),
cols = "Class_EU",
long_format = FALSE)
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_map_centroids_WWT <- Norway_county_map_centroids %>%
left_join(wwt_share_by_county_2020, by = "County_Name") %>%
rename(value = wwt_pop_share)
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
scale_fill_grey() +
geom_scatterpie(data = Norway_county_map_centroids_WWT, mapping = aes(
x = lat,
y = long),
cols = "Class_EU",
long_format = TRUE)
Norway_county_WWT_map
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
scale_fill_grey()
Norway_county_WWT_map
ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group))
ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
scale_fill_grey(
)
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_map_centroids_WWT <- Norway_county_map_centroids %>%
left_join(wwt_share_by_county_2020, by = "County_Name") %>%
rename(value = wwt_pop_share)
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
geom_scatterpie(data = Norway_county_map_centroids_WWT, mapping = aes(
x = lat,
y = long),
cols = "Class_EU",
long_format = TRUE)
Norway_county_WWT_map
ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group))
View(d)
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_map_centroids_WWT <- Norway_county_map_centroids %>%
left_join(wwt_share_by_county_2020, by = "County_Name") %>%
rename(value = wwt_pop_share)
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
geom_scatterpie(data = Norway_county_map_centroids_WWT, mapping = aes(
x = long,
y = lat),
cols = "Class_EU",
long_format = TRUE)
Norway_county_WWT_map
ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group))
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_map_centroids_WWT <- Norway_county_map_centroids %>%
left_join(wwt_share_by_county_2020, by = "County_Name") %>%
rename(value = wwt_pop_share)
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
geom_scatterpie(data = Norway_county_map_centroids_WWT, mapping = aes(
x = long,
y = lat,
group = County_Name),
cols = "Class_EU",
long_format = TRUE)
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_map_centroids_WWT <- Norway_county_map_centroids %>%
left_join(wwt_share_by_county_2020, by = "County_Name") %>%
rename(value = wwt_pop_share)
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
geom_scatterpie(data = Norway_county_map_centroids_WWT, mapping = aes(
x = long,
y = lat,
group = County_Name),
cols = c("Class_EU"),
long_format = TRUE)
Norway_county_WWT_map
ggplot() +
geom_scatterpie(aes(x=long, y=lat), data=Norway_county_map_centroids_WWT, cols="Class_EU", long_format=TRUE) + coord_fixed()
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_map_centroids_WWT <- Norway_county_map_centroids %>%
left_join(wwt_share_by_county_2020, by = "County_Name") %>%
rename(value = wwt_pop_share)
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
geom_scatterpie(aes(x=long, y=lat), data=Norway_county_map_centroids_WWT, cols="Class_EU", long_format=TRUE) + coord_fixed()
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_map_centroids_WWT <- Norway_county_map_centroids %>%
left_join(wwt_share_by_county_2020, by = "County_Name") %>%
rename(value = wwt_pop_share)
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat)) +
geom_polygon(size = 0.5,
aes(group = group)) +
geom_scatterpie(data = Norway_county_map_centroids_WWT, mapping = aes(
x = long,
y = lat,
group = County_Name),
cols = c("Class_EU"),
long_format = TRUE)
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_map_centroids_WWT <- Norway_county_map_centroids %>%
left_join(wwt_share_by_county_2020, by = "County_Name") %>%
rename(value = wwt_pop_share)
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat)) +
geom_polygon(size = 0.5,
aes(group = group)) +
geom_scatterpie(data = Norway_county_map_centroids_WWT, mapping = aes(
x = long,
y = lat,
group = County_Name),
cols = c("Class_EU"),
long_format = TRUE) +
coord_fixed()
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
scale_fill_grey() +
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
scale_fill_grey()
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group))
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat,
fill = population)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
scale_fill_continuous()
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group))
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat)) +
geom_polygon(color = "grey",
size = 0.5,
aes(group = group)) +
theme_void()
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat)) +
geom_polygon(color = "lightgrey",
size = 0.5,
aes(group = group)) +
theme_void()
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat)) +
geom_polygon(fill = "lightgrey",
size = 0.5,
aes(group = group)) +
theme_void()
Norway_county_WWT_map
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat)) +
geom_polygon(fill = "lightgrey",
colour = "white"
size = 0.5,
# Make a map of Norway with pie charts per fylke depicting access to various WWTP levels
# I'd love to do this automatically, but scatterpie is too primitive and I'm strapped for time
Norway_county_map_WWT_data <- Norway_county_map_names %>%
left_join(wwt_share_by_county_2020, by = c("County_Name"))
Norway_county_WWT_map <- ggplot(data = Norway_county_map_WWT_data, mapping = aes(x = long,
y = lat)) +
geom_polygon(fill = "lightgrey",
colour = "white",
size = 0.5,
aes(group = group)) +
theme_void()
Norway_county_WWT_map
Norway_county_pies_RQ <- ggplot(data = Norway_county_map_WWT_data, aes(fill = Class_EU, x = "", y = Probability)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1) +
facet_wrap(facets = vars(master_county, master_year)) +
scale_fill_viridis_d(option = viridis_colour) +
theme_void()
Norway_county_pies_WWT <- ggplot(data = Norway_county_map_WWT_data, aes(fill = Class_EU, x = "", y = Probability)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = viridis_colour) +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = Norway_county_map_WWT_data, aes(fill = Class_EU, x = "", y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = viridis_colour) +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, aes(fill = Class_EU, x = "", y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = viridis_colour) +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, aes(fill = Class_EU, x = "", y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = viridis_colour) +
theme_void() + scale_colour_brewer(palette = "Set1")
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, aes(fill = Class_EU, x = "", y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1) +
facet_wrap(facets = vars(County_Name)) +
theme_void() +
scale_colour_brewer(palette = "Set1")
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, aes(fill = Class_EU, x = "", y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
View(small_wwtp_by_county_2020)
View(wwt_share_by_county_2020)
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, aes(fill = Class_EU, x = "", y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, aes(fill = Class_EU, x = "", y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1)
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, aes(fill = Class_EU, x = "", y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 1)
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, mapping = aes(fill = Class_EU,
x = "",
y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 0) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, mapping = aes(fill = Class_EU,
x = "",
y = wwt_pop_share)) +
geom_bar(width = 1, stat = "identity") +
# coord_polar(theta = "y", start = 0) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020, mapping = aes(fill = Class_EU,
x = "",
y = population)) +
geom_bar(width = 1, stat = "identity") +
# coord_polar(theta = "y", start = 0) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
View(wwt_share_by_county_2020)
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = "",
y = population)) +
geom_bar(width = 1, stat = "identity") +
# coord_polar(theta = "y", start = 0) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
wwt_share_by_county_2020 %>% group_by(Class_EU) %>% summarise(sum((population)))
wwt_share_by_county_2020 %>% group_by(County_Name) %>% summarise(sum((population)))
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = "",
y = population)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 0) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
y = population)) +
geom_col(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 0) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = "",
y = population)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 0) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = "",
y = population,
group = County_Name)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y", start = 0) +
facet_wrap(facets = vars(County_Name)) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = 0,
y = population,
group = County_Name)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y") +
facet_wrap(~County_Name) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
wwt_share_by_county_2020 %>% group_by(Class_EU) %>% summarise(sum((population)))wwt_share_by_county_2020
wwt_share_by_county_2020
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = 0,
y = wwt_pop_share,
group = County_Name)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y") +
facet_wrap(~County_Name) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
wwt_share_by_county_2020 %>% group_by(County_Name) %>% summarise(sum((wwt_pop_share)))
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = 0,
y = wwt_pop_share,
group = County_Name)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y") +
facet_wrap(~County_Name, scales = "free") +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = 0,
y = wwt_pop_share,
group = County_Name)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y") +
facet_wrap(~County_Name) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
?coord_polar
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = 0,
y = wwt_pop_share,
group = County_Name)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y") +
facet_wrap(~County_Name) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
wwt_share_by_county_2020 %>% group_by(County_Name) %>% summarise(sum((wwt_pop_share)))
Norway_county_pies_WWT <- ggplot(data = wwt_share_by_county_2020 %>% filter(County_Name != "Total"),
mapping = aes(fill = Class_EU,
x = 0,
y = wwt_pop_share,
group = County_Name)) +
geom_bar(width = 1, stat = "identity") +
# coord_polar(theta = "y") +
facet_wrap(~County_Name) +
scale_fill_viridis_d(option = "viridis") +
theme_void()
Norway_county_pies_WWT
source(file = "src/graphics/WWTP_share_map.R")
source(file = "src/graphics/WWTP_share_map.R")
Norway_county_WWT_map
Norway_county_pies_WWT
